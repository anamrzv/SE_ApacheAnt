<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:pf="http://primefaces.org/ui"
>

<h:head>
    <title>Ana's Web</title>
    <h:outputStylesheet name="css/body.css"/>
    <h:outputStylesheet name="css/header.css"/>
    <h:outputStylesheet name="css/slider.css"/>
    <h:outputScript name="js/validate.js"/>
</h:head>

<h:body>
    <table id="body-table">

        <tr>
            <th class="header">
                <div>
                    <p>Морозова Анастасия Александровна P3230</p>
                    <p>Вариант 5416</p>
                </div>
            </th>
        </tr>

        <tr class="body">
            <th class="choose-area">
                <div class="graph">
                    <svg id="graph_pic" height="300" width="300" xmlns="http://www.w3.org/2000/svg">

                        <line stroke="black" x1="0" y1="150" x2="300" y2="150"/>
                        <line stroke="black" x1="150" y1="0" x2="150" y2="300"/>
                        <polygon fill="black" points="150,0 144,15 156,15" stroke="black"/>
                        <polygon fill="black" points="300,150 285,156 285,144" stroke="black"/>

                        <!-- Деления -->
                        <line stroke="black" x1="200" y1="155" x2="200" y2="145"/>
                        <line stroke="black" x1="250" y1="155" x2="250" y2="145"/>

                        <line stroke="black" x1="50" y1="155" x2="50" y2="145"/>
                        <line stroke="black" x1="100" y1="155" x2="100" y2="145"/>

                        <line stroke="black" x1="145" y1="100" x2="155" y2="100"/>
                        <line stroke="black" x1="145" y1="50" x2="155" y2="50"/>

                        <line stroke="black" x1="145" y1="200" x2="155" y2="200"/>
                        <line stroke="black" x1="145" y1="250" x2="155" y2="250"/>

                        <!-- Подписи к делениям и осям -->
                        <text fill="black" x="195" y="140">R/2</text>
                        <text fill="black" x="250" y="140">R</text>

                        <text fill="black" x="40" y="140">-R</text>
                        <text fill="black" x="85" y="140">-R/2</text>

                        <text fill="black" x="160" y="55">R</text>
                        <text fill="black" x="160" y="105">R/2</text>

                        <text fill="black" x="160" y="204">-R/2</text>
                        <text fill="black" x="160" y="255">-R</text>

                        <text fill="black" x="285" y="140">X</text>
                        <text fill="black" x="160" y="15">Y</text>

                        <!-- Квадрат -->
                        <polygon fill="blue"
                                 fill-opacity="0.2"
                                 stroke="blue"
                                 points="50,150 150,150 150,50 50,50"/>

                        <!-- Круг -->
                        <path fill="blue"
                              fill-opacity="0.2"
                              stroke="blue"
                              d="M 100 150 A 100 100, 90, 0, 0, 150 200 L 150 150"/>

                        <!-- Треугольник -->
                        <polygon fill="blue"
                                 fill-opacity="0.2"
                                 stroke="blue"
                                 points="150,150 200,150 150,200"/>

                    </svg>
                </div>

                <div>
                    <h:form id="coordinates-form">
                        <div class="checkbox-area">
                            <p>Выберите X:</p>
                            <div>
                                <pf:selectOneMenu id="x" value="#{point.xCoordinate}" required="true">
                                    <f:selectItem itemLabel="-2" itemValue="-2.0"/>
                                    <f:selectItem itemLabel="-1.5" itemValue="-1.5"/>
                                    <f:selectItem itemLabel="-1" itemValue="-1.0"/>
                                    <f:selectItem itemLabel="-0.5" itemValue="-0.5"/>
                                    <f:selectItem itemLabel="0" itemValue="0"/>
                                    <f:selectItem itemLabel="0.5" itemValue="0.5"/>
                                    <f:selectItem itemLabel="1" itemValue="1.0"/>
                                    <f:selectItem itemLabel="1.5" itemValue="1.5"/>
                                    <f:selectItem itemLabel="2" itemValue="2.0"/>
                                </pf:selectOneMenu>
                            </div>

                            <p>Выберите Y (-5;5):</p>
                            <div>
                                <pf:inputText placeholder="(-5;5)" id="y" value="#{point.yCoordinate}" required="true" maxlength="11" type="text" label="Y"/>
                            </div>

                            <p>Выберите R:</p>
                            <div>
                                <pf:inputText id="rVal" value="#{point.rValue}" disabled="true"/>
                                <pf:slider for="rVal" step="0.25" minValue="1" maxValue="4" styleClass="slider" required="true"/>
                            </div>

                            <div class="buttons-area">
                                <h:commandButton id="function-btn" type="submit" class="gradient-button" value="Отправить" onclick="validate()" action="#{point.checkPoint}"/>
                            </div>
                        </div>
                    </h:form>
                </div>

            </th>
        </tr>

        <tr>
            <th>
                <div class="table-area">
                    <h:dataTable id="main-table" value="#{point.points}">
                        <f:facet name="header">История выполнений</f:facet>
                        <h:column>
                            <f:facet name="header">X</f:facet>
                            #{point.xCoordinate}
                        </h:column>
                        <h:column>
                            <f:facet name="header">Y</f:facet>
                            #{point.yCoordinate}
                        </h:column>
                        <h:column>
                            <f:facet name="header">R</f:facet>
                            #{point.rValue}
                        </h:column>
                        <h:column>
                            <f:facet name="header">Текущее время</f:facet>
                            #{point.time}
                        </h:column>
                        <h:column>
                            <f:facet name="header">Результат</f:facet>
                            #{point.result}
                        </h:column>
                    </h:dataTable>
                </div>
            </th>
        </tr>

    </table>
</h:body>

</html>
